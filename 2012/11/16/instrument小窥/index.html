<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Language" contect="zh-CN">
  <meta name="DEscription" contect="潘俊俊 ITCamel itcamel 技术博客 java">
  <meta name="msvalidate.01" content="E9ABDA0017F73425E87A682DB620B6B6" />
  
  <title>Instrument小窥 | ITCamel</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta content="article" property="og:type">
<meta content="Instrument小窥" property="og:title">
<meta content="www.itcamel.com/2012/11/16/instrument小窥/" property="og:url">
<meta property="og:image">
<meta content="ITCamel" property="og:site_name">
<meta content="java.lang.instrument是java 5开始引入的,它把 Java 的 instrument 功能从本地代码中解放出来，使之可以用 Java 代码的方式解决问题。使用 Instrumentation，开发者可以构建一个独立于应用程序的代理程序（Agent），用来监测和协助运行在 JVM 上的程序，甚至能够替换和修改某些类的定义.
Java5的特性:运行前利用命令行参数或者系统参数来设" property="og:description">
<meta content="summary" name="twitter:card">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <!--  -->
  
 
 <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
 
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">ITCamel</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">关注IT浪潮，却在沙滩边拾捡贝壳的骆驼</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="submit" value="&#xF002;" class="search-form-submit"><input type="hidden" name="q" value="site:www.itcamel.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-instrument小窥" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2012/11/16/instrument小窥/" class="article-date">
  <time datetime="2012-11-16T13:15:01.000Z" itemprop="datePublished">11月 16 2012</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java基础/">Java基础</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Instrument小窥
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>java.lang.instrument是java 5开始引入的,它把 Java 的 instrument 功能从本地代码中解放出来，使之可以用 Java 代码的方式解决问题。使用 Instrumentation，开发者可以构建一个独立于应用程序的代理程序（Agent），用来监测和协助运行在 JVM 上的程序，甚至能够替换和修改某些类的定义.</p>
<p>Java5的特性:运行前利用命令行参数或者系统参数来设置代理类，虚拟机在初始化之时（在绝大多数的 Java 类库被载入之前），instrumentation 的设置已经启动，并在虚拟机中设置了回调函数，检测特定类的加载情况，并根据设置完全特定功能.<br><a id="more"></a><br>例子1:<br><code>Mainclass代码</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
</pre></td><td class="code"><pre><span class="keyword">package</span> instrumentexample;  
  
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainClass</span> {</span>  
  
    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(String[] args) <span class="keyword">throws</span> InterruptedException {  
        System.out.println(<span class="string">"MainClass invoke main function"</span>);  
    }  
  
}
</pre></td></tr></table></figure>


<p><code>Premain代码</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="code"><pre><span class="keyword">package</span> instrumentexample;  
  
<span class="keyword">import</span> java.io.IOException;  
<span class="keyword">import</span> java.lang.instrument.Instrumentation;  
  
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Premain</span> {</span>  
  
    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">premain</span>(String agentArgs, Instrumentation inst)  
            <span class="keyword">throws</span> IOException {  
        Class[] classes = inst.getAllLoadedClasses();  
        <span class="keyword">for</span> (Class classstr : classes) {  
            System.out.println(<span class="string">"Class:"</span> + classstr.getName() + <span class="string">";ClassLoader:"</span>  
                    + classstr.getClassLoader());  
        }  
  
    }  
  
}
</pre></td></tr></table></figure>


<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>javac instrumentexample/Premain<span class="preprocessor">.java</span> 
jar -cvf agent<span class="preprocessor">.jar</span> instrumentexample/Premain<span class="preprocessor">.class</span>
</pre></td></tr></table></figure>

<p>打包出一个agent.jar,并修改MANIFEST.MF 文件,添加 Premain-Class属性</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre><span class="attribute">Manifest-Version</span>: <span class="string">1.0  </span>
<span class="attribute">Premain-Class</span>: <span class="string">instrumentexample.Premain  </span>
<span class="attribute">Created-By</span>: <span class="string">1.6.0_20 (Sun Microsystems Inc.)</span>
</pre></td></tr></table></figure>

<p>执行:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>java -javaagent:agent<span class="preprocessor">.jar</span> instrumentexample/MainClass
</pre></td></tr></table></figure>

<p>打印结果可看到:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre><span class="constant">Class</span><span class="symbol">:instrumentexample</span>.<span class="constant">Premain</span>;<span class="constant">ClassLoader</span><span class="symbol">:sun</span>.misc.<span class="constant">Launcher</span><span class="variable">$AppClassLoader</span><span class="variable">@df6ccd</span>
</pre></td></tr></table></figure>

<p>却看不到对应的MainClass被classload加载. 这个说明了在Premain被加载并执行后,MainClass还未被AppClassLoader加载入JVM. 而对应其他的被BootstrapClassLoader加载的类都已经被完全被加载了.莫忘记了,连同AppClassLoader这个类是Java实现,也是需要被ClassLoader加载的,而这个加载器正是BootstrapClassLoader.</p>
<p>instrument如何实现改变方法的执行呢?通过字节码修改方式.<br>例子2:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
</pre></td><td class="code"><pre><span class="keyword">package</span> instrumentexample;  
  
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> {</span>  
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayName</span>() {  
        System.out.println(<span class="string">"I am Justin"</span>);  
    }  
}
</pre></td></tr></table></figure>


<figure class="highlight java"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td><td class="code"><pre><span class="keyword">package</span> instrumentexample;  
  
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainClass</span> {</span>  
  
    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(String[] args) <span class="keyword">throws</span> InterruptedException {  
        Person person = <span class="keyword">new</span> Person();  
        person.sayName();  
    }  
  
}
</pre></td></tr></table></figure>


<p>想把Person的名称改成LiLei呢?instument有一个ClassFileTransformer接口,接口中只有一个唯一的方法.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
</pre></td><td class="code"><pre><span class="keyword">byte</span>[]  
 transform(  ClassLoader         loader,  
             String              className,  
             Class&lt;?&gt;            classBeingRedefined,  
             ProtectionDomain    protectionDomain,  
             <span class="keyword">byte</span>[]              classfileBuffer)  
     <span class="keyword">throws</span> IllegalClassFormatException;
</pre></td></tr></table></figure>

<p>加了agent后,每个被加载的class都会被检查一遍. classfileBuffer是类文件的字节码被当作字节码数组传递进来,返回值被改变后的class字节码,如果返回null,则字节码不被修改.在该方法中,字节码的任何改变都会在ClassLoader中重新生效.我们可以通过字节码增强的工具如ASM,Cglin,BCEL等工具进行字节码增强,改变原来class,执行新功能.当然目前的只针对被 AppClassLoader加载的类,如果更改BootstrapClassLoader,ExtClassLoader加载的类,则需求其他的修改,后面会举例.</p>
<p>下面用最简单的,重新加载一个class文件的方式实现字节码修改.修改后的新Person</p>
<p><code>Person代码</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> {</span>  
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayName</span>() {  
        System.out.println(<span class="string">"I am LiLei"</span>);  
    }  
}
</pre></td></tr></table></figure>


<p>编译并命名成Person.class.new.<br>实现ClassFileTransformer接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
</pre></td><td class="code"><pre><span class="keyword">package</span> instrumentexample;  
  
<span class="keyword">import</span> java.io.File;  
<span class="keyword">import</span> java.io.FileInputStream;  
<span class="keyword">import</span> java.io.InputStream;  
<span class="keyword">import</span> java.lang.instrument.ClassFileTransformer;  
<span class="keyword">import</span> java.lang.instrument.IllegalClassFormatException;  
<span class="keyword">import</span> java.security.ProtectionDomain;  
  
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MethodTransformer</span> <span class="keyword">implements</span> <span class="title">ClassFileTransformer</span> {</span>  
  
    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String newClassFilePath = <span class="string">"Person.class.new"</span>;  
  
    <span class="comment">// 从新class文件中读取字节码  </span>
    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">byte</span>[] <span class="title">readBytesFromFile</span>(String fileName) {  
        <span class="keyword">try</span> {  
            File file = <span class="keyword">new</span> File(fileName);  
            InputStream is = <span class="keyword">new</span> FileInputStream(file);  
            <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[(<span class="keyword">int</span>) file.length()];  
            is.read(bytes);  
            is.close();  
            <span class="keyword">return</span> bytes;  
        } <span class="keyword">catch</span> (Exception e) {  
            <span class="keyword">return</span> <span class="keyword">null</span>;  
        }  
    }  
  
    <span class="comment">// 实现接口,class字节码修改发生的地方  </span>
    <span class="keyword">public</span> <span class="keyword">byte</span>[] <span class="title">transform</span>(ClassLoader l, String className, Class&lt;?&gt; c,  
            ProtectionDomain pd, <span class="keyword">byte</span>[] b) <span class="keyword">throws</span> IllegalClassFormatException {  
        <span class="comment">// 如果不是要修改的类,直接返回null  </span>
        <span class="keyword">if</span> (!className.equals(<span class="string">"instrumentexample/Person"</span>)) {  
            <span class="keyword">return</span> <span class="keyword">null</span>;  
        }  
        <span class="keyword">return</span> readBytesFromFile(newClassFilePath);  
    }  
}
</pre></td></tr></table></figure>

<p>再在Agent里面添加该MethodTransformer</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="code"><pre><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PremainModifyClass</span> {</span>  
  
    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">premain</span>(String agentArgs, Instrumentation inst)  
            <span class="keyword">throws</span> ClassNotFoundException, UnmodifiableClassException {  
        inst.addTransformer(<span class="keyword">new</span> MethodTransformer());  
    }  
  
}
</pre></td></tr></table></figure>

<p>PremainModifyClass和MethodTransformer打包成agent.jar,执行跟例子1一样.</p>
<p>java6引入的新特性:JVM启动后动态 instrument、本地代码（native code）instrument，以及动态改变 classpath.</p>
<p>JVM启动后动态 instrument:在虚拟机初始化完成后(绝大部分的类库都已经被加载完毕),通过Java Tool API 中的 attach 方式,在运行过程中动态的实现instrumentation.</p>
<p>public static void agentmain (String agentArgs, Instrumentation inst);          [1]<br>public static void agentmain (String agentArgs);              [2]<br>和premain()类似.</p>
<p>例子3:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td><td class="code"><pre><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Agentmain</span> {</span>  
  
    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">agentmain</span>(String agentArgs, Instrumentation inst) {  
        Class[] classes = inst.getAllLoadedClasses();  
        <span class="keyword">for</span> (Class classstr : classes) {  
            System.out.println(<span class="string">"Class:"</span> + classstr.getName() + <span class="string">";ClassLoader:"</span>  
                    + classstr.getClassLoader());  
        }  
    }  
}
</pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
</pre></td><td class="code"><pre><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoadAgentMain</span> {</span>  
  
    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(String[] args) <span class="keyword">throws</span> AttachNotSupportedException,  
            IOException, AgentLoadException, AgentInitializationException {  
        <span class="comment">// args[0]为JVM实例的pid,args[1]为agent jar的路径  </span>
        VirtualMachine vm = VirtualMachine.attach(args[<span class="number">0</span>]);  
        vm.loadAgent(args[<span class="number">1</span>]);  
    }  
}
</pre></td></tr></table></figure>



<p>修改例子1:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
</pre></td><td class="code"><pre><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainClass</span> {</span>  
  
    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(String[] args) <span class="keyword">throws</span> InterruptedException {  
        Person person = <span class="keyword">new</span> Person();  
        <span class="keyword">while</span> (<span class="number">0</span> &lt; <span class="number">1</span>) {  
  
        }  
    }  
}
</pre></td></tr></table></figure>

<p>jps命令行得到MainClass的pid, 打包AgentMain为agent.jar,修改Manifest文件<br>Agent-Class: instrumentexample.Agentmain</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre><span class="tag">java</span> <span class="tag">-javaagent</span><span class="pseudo">:agent</span><span class="class">.jar</span> <span class="tag">MainClass</span> <span class="tag">pid</span> <span class="tag">path</span>
</pre></td></tr></table></figure>


<p>从打印出来的结果可以看到,MainClass和Person类都已经被AppClassLoader加载完成了. 这个就是premain()方式和agentmain()方式的区别.一个是在JVM实例启动前执行instrumentation,一个是在启动后执行instrumentation.<br>如果在agentmain()里面改变字节码,就实现了运行时的instrumentation.</p>
<p>运行时改变 BootClassPath/SystemClassPath<br>上面我们改变的都是被AppClasssLoader加载的class,如果要改变BootstrapClassLoader加载的class呢?<br>可以设置一个虚拟机运行时的 boot class 加载路径（-Xbootclasspath）和 system class（-cp）加载路径.当然，我们在运行之后无法替换它。然而，我们也许有时候要需要把某些 jar 加载到 bootclasspath 之中，而我们无法应用上述两个方法。在 Java SE 6 之中,可以实现.premain/agantmain 函数里面通过 appendToBootstrapClassLoaderSearch或 appendToSystemClassLoaderSearch 来动态添加ClassLoader的加载路径.( 虚拟机的独特 ClassLoader 的工作方式，它会记载解析结果。比如，我们曾经要求读入某个类 someclass，但是失败了，ClassLoader 会记得这一点。即使我们在后面动态地加入了某一个 jar，含有这个类，ClassLoader 依然会认为我们无法解析这个类，与上次出错的相同的错误会被报告。 )</p>
<h4 id="文献引用:">文献引用:</h4>
<p><a href="http://www.ibm.com/developerworks/cn/java/j-lo-jse61/index.html" target="_blank">Java SE 6 新特性:Instrumentation新功能</a></p>

      
    </div>
    <footer class="article-footer">
 

      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JVM/">JVM</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/性能优化/">性能优化</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/杂谈/">杂谈</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/虚拟机/">虚拟机</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2013/02/06/分布式日志系统类比/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          分布式日志系统类比
        
      </div>
    </a>
  
  
    <a href="/2012/09/08/虚拟机stack全分析/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">虚拟机stack全分析</div>
    </a>
  
</nav>

  
</article>




         <div class="bdsharebuttonbox"><a href="#" class="bds_more" data-cmd="more"></a><a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a><a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网"></a><a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博"></a><a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a><a href="#" class="bds_xg" data-cmd="xg" title="分享到鲜果"></a></div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"16"},"share":{},"image":{"viewList":["tsina","douban","tqq","weixin","xg"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","douban","tqq","weixin","xg"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>



    <!-- 多说评论框 start -->
 <h1 class="title">comment</h1>
 <div class="ds-thread" data-title="Instrument小窥"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"huoyanxueren"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end -->



</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Java基础/">Java基础</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux系统知识/">Linux系统知识</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/交流分享/">交流分享</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/">工具</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/开源框架/">开源框架</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/架构/">架构</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/系统运维/">系统运维</a><span class="category-list-count">3</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Chuwa/">Chuwa</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DMA/">DMA</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flume/">Flume</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/">JVM</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MMU/">MMU</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SVN/">SVN</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SVNKit/">SVNKit</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Scribe/">Scribe</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Zero-copy/">Zero-copy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dependency/">dependency</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/infoq/">infoq</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jps/">jps</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jstat/">jstat</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka/">kafka</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven/">maven</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nio/">nio</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/qcon/">qcon</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring/">spring</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/会议/">会议</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/北京/">北京</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/性能优化/">性能优化</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/性能，优化，服务器，负载/">性能，优化，服务器，负载</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/日志/">日志</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/杂谈/">杂谈</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/虚拟机/">虚拟机</a><span class="tag-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Chuwa/" style="font-size: 10.00px;">Chuwa</a><a href="/tags/DMA/" style="font-size: 10.00px;">DMA</a><a href="/tags/Flume/" style="font-size: 10.00px;">Flume</a><a href="/tags/JVM/" style="font-size: 20.00px;">JVM</a><a href="/tags/MMU/" style="font-size: 10.00px;">MMU</a><a href="/tags/SVN/" style="font-size: 10.00px;">SVN</a><a href="/tags/SVNKit/" style="font-size: 10.00px;">SVNKit</a><a href="/tags/Scribe/" style="font-size: 10.00px;">Scribe</a><a href="/tags/Zero-copy/" style="font-size: 10.00px;">Zero-copy</a><a href="/tags/dependency/" style="font-size: 10.00px;">dependency</a><a href="/tags/infoq/" style="font-size: 10.00px;">infoq</a><a href="/tags/jps/" style="font-size: 10.00px;">jps</a><a href="/tags/jstat/" style="font-size: 10.00px;">jstat</a><a href="/tags/kafka/" style="font-size: 10.00px;">kafka</a><a href="/tags/linux/" style="font-size: 10.00px;">linux</a><a href="/tags/maven/" style="font-size: 10.00px;">maven</a><a href="/tags/nio/" style="font-size: 10.00px;">nio</a><a href="/tags/qcon/" style="font-size: 10.00px;">qcon</a><a href="/tags/spring/" style="font-size: 10.00px;">spring</a><a href="/tags/会议/" style="font-size: 10.00px;">会议</a><a href="/tags/北京/" style="font-size: 10.00px;">北京</a><a href="/tags/性能优化/" style="font-size: 15.00px;">性能优化</a><a href="/tags/性能，优化，服务器，负载/" style="font-size: 10.00px;">性能，优化，服务器，负载</a><a href="/tags/日志/" style="font-size: 10.00px;">日志</a><a href="/tags/杂谈/" style="font-size: 10.00px;">杂谈</a><a href="/tags/虚拟机/" style="font-size: 15.00px;">虚拟机</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06">六月 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04">四月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/02">二月 2013</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/11">十一月 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/09">九月 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/08">八月 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/03">三月 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/10">十月 2011</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2014/06/24/spring-custom-tag/">Spring自定义标签</a>
          </li>
        
          <li>
            <a href="/2014/06/23/dependency-conflict/">jar依赖冲突解决实践</a>
          </li>
        
          <li>
            <a href="/2014/04/25/qcon-1st/">北京Qcon走马观花</a>
          </li>
        
          <li>
            <a href="/2013/02/26/nio-grammer/">NIO学习全概括</a>
          </li>
        
          <li>
            <a href="/2013/02/19/zero-copy/">zero-copy</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    <div class="widget-wrap">
<h3 class="widget-title">友情链接</h3>
<ul class="entry widget">
<li><a href="http://gkbusy.iteye.com/" title="gkbusy's Blog">gkbusy的博客</a></li>
<li><a href="http://javatar.iteye.com/" title="梁飞的博客">梁飞的博客</a></li>
<li><a href="http://agapple.iteye.com/" title="agapple's Blog">agapple的博客</a></li>
<li><a href="http://www.alidata.org/" title="阿里数据平台">阿里数据平台</a></li>
<li><a href="http://www.yangbolin.github.io/myblog/" title="yangbolin">yangbolin的blog</a></li>
</ul>
</div>

  
    <iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=1946907151&verifier=c39dc63c&dpc=1"></iframe>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2014 潘俊俊<br>
      阿里巴巴资深开发工程师、Java、大数据、语言<br>
      E-mail:1983@live.cn<br>
      Powered by <a href="http://itcamel.com" target="_blank">潘俊俊</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    <script src="/fancybox/jquery-1.7.2.min.js"></script>


<!-- <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css"> -->
<!-- <script src="/fancybox/jquery.fancybox.pack.js"></script> -->



<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Ff3d905ba4b2eaa8c625d50b00801cb47' type='text/javascript'%3E%3C/script%3E"));
</script>



<script type="text/javascript" src="/js/script.js"></script>

  </div>
</body>
</html>
